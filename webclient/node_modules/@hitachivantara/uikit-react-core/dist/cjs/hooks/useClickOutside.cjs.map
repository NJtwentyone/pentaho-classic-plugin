{"version":3,"file":"useClickOutside.cjs","sources":["../../../src/hooks/useClickOutside.ts"],"sourcesContent":["import { useEffect, RefObject } from \"react\";\n\nexport type HvClickOutsideEvent = MouseEvent | KeyboardEvent | TouchEvent;\n\nexport const useClickOutside = <T extends HTMLElement = HTMLElement>(\n  ref: RefObject<T>,\n  handler: (event: HvClickOutsideEvent) => void\n) => {\n  useEffect(() => {\n    const listener = (event: HvClickOutsideEvent) => {\n      const el = ref?.current;\n      const isKeyUp = event.type === \"keyup\";\n      const isEscape = (event as KeyboardEvent).key === \"Escape\";\n\n      if (!el || el.contains((event?.target as Node) || null)) {\n        return {};\n      }\n\n      return isKeyUp ? (isEscape ? handler(event) : null) : handler(event);\n    };\n\n    document.addEventListener(\"click\", listener);\n    document.addEventListener(\"touchstart\", listener);\n    document.addEventListener(\"keyup\", listener);\n\n    return () => {\n      document.removeEventListener(\"click\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n      document.removeEventListener(\"keyup\", listener);\n    };\n  }, [ref, handler]);\n};\n"],"names":["useEffect"],"mappings":";;;AAIa,MAAA,kBAAkB,CAC7B,KACA,YACG;AACHA,QAAAA,UAAU,MAAM;AACR,UAAA,WAAW,CAAC,UAA+B;AAC/C,YAAM,KAAK,KAAK;AACV,YAAA,UAAU,MAAM,SAAS;AACzB,YAAA,WAAY,MAAwB,QAAQ;AAElD,UAAI,CAAC,MAAM,GAAG,SAAU,OAAO,UAAmB,IAAI,GAAG;AACvD,eAAO;MACT;AAEA,aAAO,UAAW,WAAW,QAAQ,KAAK,IAAI,OAAQ,QAAQ,KAAK;AAAA,IAAA;AAG5D,aAAA,iBAAiB,SAAS,QAAQ;AAClC,aAAA,iBAAiB,cAAc,QAAQ;AACvC,aAAA,iBAAiB,SAAS,QAAQ;AAE3C,WAAO,MAAM;AACF,eAAA,oBAAoB,SAAS,QAAQ;AACrC,eAAA,oBAAoB,cAAc,QAAQ;AAC1C,eAAA,oBAAoB,SAAS,QAAQ;AAAA,IAAA;AAAA,EAChD,GACC,CAAC,KAAK,OAAO,CAAC;AACnB;;"}