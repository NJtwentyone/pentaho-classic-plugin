{"version":3,"file":"useImageLoaded.cjs","sources":["../../../src/hooks/useImageLoaded.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport const useImageLoaded = (src?: string, srcSet?: string) => {\n  const [imageLoaded, setImageLoaded] = useState<boolean | string>(false);\n\n  useEffect(() => {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setImageLoaded(false);\n\n    let active = true;\n    const image = new Image();\n    image.src = src || \"\";\n    image.srcset = srcSet || \"\";\n    image.onload = () => {\n      if (!active) {\n        return;\n      }\n\n      setImageLoaded(\"loaded\");\n    };\n    image.onerror = () => {\n      if (!active) {\n        return;\n      }\n\n      setImageLoaded(\"error\");\n    };\n\n    return () => {\n      active = false;\n    };\n  }, [src, srcSet]);\n\n  return imageLoaded;\n};\n"],"names":["useState","useEffect"],"mappings":";;;AAEa,MAAA,iBAAiB,CAAC,KAAc,WAAoB;AAC/D,QAAM,CAAC,aAAa,cAAc,IAAIA,eAA2B,KAAK;AAEtEC,QAAAA,UAAU,MAAM;AACV,QAAA,CAAC,OAAO,CAAC,QAAQ;AACZ,aAAA;AAAA,IACT;AAEA,mBAAe,KAAK;AAEpB,QAAI,SAAS;AACP,UAAA,QAAQ,IAAI;AAClB,UAAM,MAAM,OAAO;AACnB,UAAM,SAAS,UAAU;AACzB,UAAM,SAAS,MAAM;AACnB,UAAI,CAAC,QAAQ;AACX;AAAA,MACF;AAEA,qBAAe,QAAQ;AAAA,IAAA;AAEzB,UAAM,UAAU,MAAM;AACpB,UAAI,CAAC,QAAQ;AACX;AAAA,MACF;AAEA,qBAAe,OAAO;AAAA,IAAA;AAGxB,WAAO,MAAM;AACF,eAAA;AAAA,IAAA;AAAA,EACX,GACC,CAAC,KAAK,MAAM,CAAC;AAET,SAAA;AACT;;"}