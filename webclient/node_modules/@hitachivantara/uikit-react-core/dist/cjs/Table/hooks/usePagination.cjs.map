{"version":3,"file":"usePagination.cjs","sources":["../../../../src/Table/hooks/usePagination.ts"],"sourcesContent":["import {\n  makePropGetter,\n  useGetLatest,\n  ensurePluginOrder,\n  Hooks,\n  PropGetter,\n  TableCommonProps,\n} from \"react-table\";\n\n// #region ##### TYPES #####\n\nexport interface HvTablePaginationProps extends TableCommonProps {\n  canPrevious: boolean;\n  canNext: boolean;\n  pages: number;\n  page: number;\n  pageSize: number;\n  onPageChange?: (updater: ((pageIndex: number) => number) | number) => void;\n  onPageSizeChange?: (pageSize: number) => void;\n  labels?: Record<string, string>;\n}\n\nexport type HvPaginationPropGetter<D extends object> = PropGetter<\n  D,\n  HvTablePaginationProps\n>;\n\nexport interface UseHvPaginationHooks<D extends object> {\n  getHvPaginationProps: Array<HvPaginationPropGetter<D>>;\n}\n\nexport interface UseHvPaginationTableInstance<D extends object> {\n  getHvPaginationProps: (\n    propGetter?: HvPaginationPropGetter<D>\n  ) => HvTablePaginationProps;\n}\n\nexport type UsePaginationProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\nconst useInstanceHook = (instance) => {\n  ensurePluginOrder(\n    instance.plugins,\n    [\n      \"usePagination\",\n      \"useHvGlobalFilter\",\n      \"useHvFilters\",\n      \"useGroupBy\",\n      \"useHvSortBy\",\n      \"useHvRowExpand\",\n    ],\n    \"useHvPagination\"\n  );\n\n  const getInstance = useGetLatest(instance);\n  const getHvPaginationProps = makePropGetter(\n    instance.getHooks().getHvPaginationProps,\n    {\n      instance: getInstance(),\n    }\n  );\n\n  Object.assign(instance, {\n    getHvPaginationProps,\n  });\n};\n\nexport const defaultGetHvPaginationProps = (props, { instance }) => {\n  const {\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    setPageSize,\n    state: { pageSize, pageIndex },\n    labels,\n  } = instance;\n\n  const nextProps: HvTablePaginationProps = {\n    canPrevious: canPreviousPage,\n    canNext: canNextPage,\n    pages: pageOptions.length,\n    page: pageIndex,\n    pageSize,\n    onPageChange: gotoPage,\n    onPageSizeChange: setPageSize,\n    labels,\n  };\n\n  return [props, nextProps];\n};\n\nconst usePagination: UsePaginationProps = (hooks) => {\n  hooks.getHvPaginationProps = [defaultGetHvPaginationProps];\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nusePagination.pluginName = \"useHvPagination\";\n\nexport default usePagination;\n"],"names":["ensurePluginOrder","useGetLatest","makePropGetter"],"mappings":";;;AA2CA,MAAM,kBAAkB,CAAC,aAAa;AACpCA,aAAA;AAAA,IACE,SAAS;AAAA,IACT;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA;AAAA,EAAA;AAGI,QAAA,cAAcC,wBAAa,QAAQ;AACzC,QAAM,uBAAuBC,WAAA;AAAA,IAC3B,SAAS,WAAW;AAAA,IACpB;AAAA,MACE,UAAU,YAAY;AAAA,IACxB;AAAA,EAAA;AAGF,SAAO,OAAO,UAAU;AAAA,IACtB;AAAA,EAAA,CACD;AACH;AAEO,MAAM,8BAA8B,CAAC,OAAO,EAAE,eAAe;AAC5D,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO,EAAE,UAAU,UAAU;AAAA,IAC7B;AAAA,EACE,IAAA;AAEJ,QAAM,YAAoC;AAAA,IACxC,aAAa;AAAA,IACb,SAAS;AAAA,IACT,OAAO,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,IACA,cAAc;AAAA,IACd,kBAAkB;AAAA,IAClB;AAAA,EAAA;AAGK,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEA,MAAM,gBAAoC,CAAC,UAAU;AAC7C,QAAA,uBAAuB,CAAC,2BAA2B;AAEnD,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,cAAc,aAAa;AAE3B,MAAA,kBAAe;;;"}