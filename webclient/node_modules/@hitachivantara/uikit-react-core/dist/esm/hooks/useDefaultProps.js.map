{"version":3,"file":"useDefaultProps.js","sources":["../../../src/hooks/useDefaultProps.ts"],"sourcesContent":["import { useMemo } from \"react\";\n\nimport { useCss } from \"./useCss\";\nimport { useTheme } from \"./useTheme\";\n\n/** Filter out `undefined` entries from `props` object. */\nexport function filterProps(props: Record<string, any>) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (props[key] !== undefined) {\n      acc[key] = props[key];\n    }\n    return acc;\n  }, {} as typeof props);\n}\n\n/** Injects into `props` the props defined in the theme `componentName`. */\nexport function useDefaultProps<T extends Record<string, any>>(\n  /** Name of the theme component key to inject defaultProps */\n  componentName: string, // keyof HvThemeComponents,\n  props: T\n): T {\n  const { activeTheme } = useTheme();\n  const { css, cx } = useCss();\n\n  const themeDefaultProps = activeTheme?.components?.[componentName];\n\n  const classes = useMemo(() => {\n    const themeClasses = themeDefaultProps?.classes || {};\n    const propsClasses = props?.classes || {};\n    const classKeys = [\n      ...Object.keys(themeClasses),\n      ...Object.keys(propsClasses),\n    ];\n    return classKeys.reduce((acc, key) => {\n      acc[key] = cx(\n        themeClasses[key] && css(themeClasses[key]),\n        propsClasses[key]\n      );\n      return acc;\n    }, {} as Record<string, string>);\n  }, [css, cx, props?.classes, themeDefaultProps?.classes]);\n\n  return {\n    ...themeDefaultProps,\n    ...filterProps(props),\n    classes,\n  };\n}\n"],"names":[],"mappings":";;;AAMO,SAAS,YAAY,OAA4B;AACtD,SAAO,OAAO,KAAK,KAAK,EAAE,OAAO,CAAC,KAAK,QAAQ;AACzC,QAAA,MAAM,GAAG,MAAM,QAAW;AACxB,UAAA,GAAG,IAAI,MAAM,GAAG;AAAA,IACtB;AACO,WAAA;AAAA,EACT,GAAG,CAAkB,CAAA;AACvB;AAGgB,SAAA,gBAEd,eACA,OACG;AACG,QAAA,EAAE,gBAAgB;AACxB,QAAM,EAAE,KAAK,GAAG,IAAI,OAAO;AAErB,QAAA,oBAAoB,aAAa,aAAa,aAAa;AAE3D,QAAA,UAAU,QAAQ,MAAM;AACtB,UAAA,eAAe,mBAAmB,WAAW;AAC7C,UAAA,eAAe,OAAO,WAAW;AACvC,UAAM,YAAY;AAAA,MAChB,GAAG,OAAO,KAAK,YAAY;AAAA,MAC3B,GAAG,OAAO,KAAK,YAAY;AAAA,IAAA;AAE7B,WAAO,UAAU,OAAO,CAAC,KAAK,QAAQ;AACpC,UAAI,GAAG,IAAI;AAAA,QACT,aAAa,GAAG,KAAK,IAAI,aAAa,GAAG,CAAC;AAAA,QAC1C,aAAa,GAAG;AAAA,MAAA;AAEX,aAAA;AAAA,IACT,GAAG,CAA4B,CAAA;AAAA,EAAA,GAC9B,CAAC,KAAK,IAAI,OAAO,SAAS,mBAAmB,OAAO,CAAC;AAEjD,SAAA;AAAA,IACL,GAAG;AAAA,IACH,GAAG,YAAY,KAAK;AAAA,IACpB;AAAA,EAAA;AAEJ;"}