{"version":3,"file":"useSortBy.cjs","sources":["../../../../src/Table/hooks/useSortBy.ts"],"sourcesContent":["import { ensurePluginOrder, Hooks } from \"react-table\";\n\n// #region ##### TYPES #####\n\n// getHeaderProps:\nexport interface UseHvSortByColumnProps {\n  sortable?: boolean;\n  sorted?: boolean;\n  sortDirection?: \"descending\" | \"ascending\";\n  onClick?: (e: React.MouseEvent<HTMLTableCellElement>) => void;\n}\n\n// getCellProps:\nexport interface UseHvSortByTableCellProps {\n  sorted?: boolean;\n}\n\nexport type UseHvSortByProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\n// props target: <table><thead><tr><th>\nconst getHeaderPropsHook = (props, { instance, column }) => {\n  const { isMultiSortEvent = (e) => e.shiftKey } = instance;\n\n  const sortDirection = column.isSortedDesc ? \"descending\" : \"ascending\";\n\n  const nextProps: UseHvSortByColumnProps = {\n    sortable: column.canSort,\n    sorted: column.isSorted,\n    sortDirection: column.isSorted ? sortDirection : undefined,\n\n    onClick: column.canSort\n      ? (e) => {\n          e.persist();\n          column.toggleSortBy(\n            undefined,\n            !instance.disableMultiSort && isMultiSortEvent(e)\n          );\n        }\n      : undefined,\n  };\n\n  return [props, nextProps];\n};\n\n// props target: <table><tbody><tr><td>\nconst getCellPropsHook = (props, { cell }) => {\n  const nextProps: UseHvSortByTableCellProps = {\n    sorted: cell.column.isSorted,\n  };\n\n  return [props, nextProps];\n};\n\nconst useInstanceHook = (instance) => {\n  ensurePluginOrder(instance.plugins, [\"useSortBy\"], \"useHvSortBy\");\n};\n\nconst useSortBy: UseHvSortByProps = (hooks) => {\n  // props target: <table><thead><tr><th>\n  hooks.getHeaderProps.push(getHeaderPropsHook);\n  // props target: <table><tbody><tr><td>\n  hooks.getCellProps.push(getCellPropsHook);\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseSortBy.pluginName = \"useHvSortBy\";\n\nexport default useSortBy;\n"],"names":["ensurePluginOrder"],"mappings":";;;AAwBA,MAAM,qBAAqB,CAAC,OAAO,EAAE,UAAU,aAAa;AAC1D,QAAM,EAAE,mBAAmB,CAAC,MAAM,EAAE,SAAa,IAAA;AAE3C,QAAA,gBAAgB,OAAO,eAAe,eAAe;AAE3D,QAAM,YAAoC;AAAA,IACxC,UAAU,OAAO;AAAA,IACjB,QAAQ,OAAO;AAAA,IACf,eAAe,OAAO,WAAW,gBAAgB;AAAA,IAEjD,SAAS,OAAO,UACZ,CAAC,MAAM;AACL,QAAE,QAAQ;AACH,aAAA;AAAA,QACL;AAAA,QACA,CAAC,SAAS,oBAAoB,iBAAiB,CAAC;AAAA,MAAA;AAAA,IAGpD,IAAA;AAAA,EAAA;AAGC,SAAA,CAAC,OAAO,SAAS;AAC1B;AAGA,MAAM,mBAAmB,CAAC,OAAO,EAAE,WAAW;AAC5C,QAAM,YAAuC;AAAA,IAC3C,QAAQ,KAAK,OAAO;AAAA,EAAA;AAGf,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEA,MAAM,kBAAkB,CAAC,aAAa;AACpCA,aAAA,kBAAkB,SAAS,SAAS,CAAC,WAAW,GAAG,aAAa;AAClE;AAEA,MAAM,YAA8B,CAAC,UAAU;AAEvC,QAAA,eAAe,KAAK,kBAAkB;AAEtC,QAAA,aAAa,KAAK,gBAAgB;AAElC,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,UAAU,aAAa;AAEvB,MAAA,cAAe;;"}