{"version":3,"file":"useResizeColumns.cjs","sources":["../../../../src/Table/hooks/useResizeColumns.ts"],"sourcesContent":["import { HTMLAttributes } from \"react\";\nimport { ensurePluginOrder, Hooks } from \"react-table\";\n\n// #region ##### TYPES #####\n\n// getHeaderProps:\nexport interface UseHvResizeColumnProps {\n  resizable?: boolean;\n  resizing?: boolean;\n  resizerProps?: HTMLAttributes<HTMLDivElement>;\n}\n\n// getCellProps:\nexport interface UseHvResizeTableCellProps {\n  resizable?: boolean;\n  resizing?: boolean;\n}\n\nexport type UseHvResizeColumnsProps = (<\n  D extends object = Record<string, unknown>\n>(\n  hooks: Hooks<D>\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\n// props target: <table><thead><tr><th>\nconst getHeaderPropsHook = (props, { column }) => {\n  const resizerProps: NonNullable<UseHvResizeColumnProps[\"resizerProps\"]> =\n    column.getResizerProps?.() || {};\n\n  resizerProps.onClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const nextProps = {\n    resizable: column.canResize,\n    resizing: column.isResizing,\n    resizerProps,\n  };\n\n  return [props, nextProps];\n};\n\n// props target: <table><tbody><tr><td>\nconst getCellPropsHook = (props, { cell }) => {\n  const nextProps: UseHvResizeTableCellProps = {\n    resizable: cell.column.canResize,\n    resizing: cell.column.isResizing,\n  };\n\n  return [props, nextProps];\n};\n\nconst useInstanceHook = (instance) => {\n  ensurePluginOrder(\n    instance.plugins,\n    [\"useResizeColumns\"],\n    \"useHvResizeColumns\"\n  );\n};\n\nconst useResizeColumns: UseHvResizeColumnsProps = (hooks) => {\n  // props target: <table><thead><tr><th>\n  hooks.getHeaderProps.push(getHeaderPropsHook);\n  // props target: <table><tbody><tr><td>\n  hooks.getCellProps.push(getCellPropsHook);\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseResizeColumns.pluginName = \"useHvResizeColumns\";\n\nexport default useResizeColumns;\n"],"names":["ensurePluginOrder"],"mappings":";;;AA2BA,MAAM,qBAAqB,CAAC,OAAO,EAAE,aAAa;AAChD,QAAM,eACJ,OAAO,kBAAkB,KAAK,CAAA;AAEnB,eAAA,UAAU,CAAC,MAAM;AAC5B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAAA,EAAA;AAGpB,QAAM,YAAY;AAAA,IAChB,WAAW,OAAO;AAAA,IAClB,UAAU,OAAO;AAAA,IACjB;AAAA,EAAA;AAGK,SAAA,CAAC,OAAO,SAAS;AAC1B;AAGA,MAAM,mBAAmB,CAAC,OAAO,EAAE,WAAW;AAC5C,QAAM,YAAuC;AAAA,IAC3C,WAAW,KAAK,OAAO;AAAA,IACvB,UAAU,KAAK,OAAO;AAAA,EAAA;AAGjB,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEA,MAAM,kBAAkB,CAAC,aAAa;AACpCA,aAAA;AAAA,IACE,SAAS;AAAA,IACT,CAAC,kBAAkB;AAAA,IACnB;AAAA,EAAA;AAEJ;AAEA,MAAM,mBAA4C,CAAC,UAAU;AAErD,QAAA,eAAe,KAAK,kBAAkB;AAEtC,QAAA,aAAa,KAAK,gBAAgB;AAElC,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,iBAAiB,aAAa;AAE9B,MAAA,qBAAe;;"}