{"version":3,"file":"FileUploader.cjs","sources":["../../../src/FileUploader/FileUploader.tsx"],"sourcesContent":["import { useLabels } from \"../hooks/useLabels\";\nimport { setId } from \"../utils/setId\";\nimport { HvBaseProps } from \"../types/generic\";\n\nimport { useDefaultProps } from \"../hooks/useDefaultProps\";\n\nimport { HvDropZone, HvDropZoneLabels } from \"./DropZone\";\nimport { HvFileData, HvFileRemovedEvent, HvFilesAddedEvent } from \"./File\";\nimport { HvFileList } from \"./FileList\";\n\nexport interface HvFileUploaderLabels extends HvDropZoneLabels {\n  /**\n   * Value of aria-label to apply to remove file button in FileList\n   * */\n  removeFileButtonLabel?: string;\n}\n\nexport interface HvFileUploaderProps extends HvBaseProps {\n  /**\n   * An object containing all the labels.\n   */\n  labels?: HvFileUploaderLabels;\n  /**\n   * The files to upload.\n   */\n  fileList?: HvFileData[];\n  /**\n   * Whether the Dropzone should accept multiple files at once.\n   */\n  multiple?: boolean;\n  /**\n   * If the input is disabled or not\n   */\n  disabled?: boolean;\n  /**\n   * Max upload size\n   * */\n  maxFileSize?: number;\n  /**\n   * Files extensions accepted for upload.\n   */\n  acceptedFiles?: string[];\n  /**\n   * Callback fired when files are added.\n   */\n  onFilesAdded?: HvFilesAddedEvent;\n  /**\n   * Callback fired when file is removed from list.\n   */\n  onFileRemoved?: HvFileRemovedEvent;\n  /**\n   * Whether the DropZone should hide labels or not.\n   */\n  hideLabels?: boolean;\n  /**\n   * Attributes applied to the input element.\n   */\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n}\n\n// TODO: This component needs to adopt the Form element shape and deprecate its way of composing labels\n\nconst DEFAULT_LABELS: HvFileUploaderLabels = {\n  dropzone: \"Label\",\n  sizeWarning: \"Max. file size:\",\n  drag: \"Drop files here or\",\n  selectFiles: \"click to upload\",\n  dropFiles: \"Drop files here\",\n  fileSizeError: \"The file exceeds the maximum upload size\",\n  fileTypeError: \"File type not allowed for upload\",\n  removeFileButtonLabel: \"Remove File\",\n};\n\n/**\n * Lets the user choose one or more files from their device storage. Once chosen,\n * the files can be uploaded to a server or manipulated on the client side.\n *\n * Accepted file types follow the format of the html input accept attribute. Please check https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file for more details.\n */\nexport const HvFileUploader = (props: HvFileUploaderProps) => {\n  const {\n    id,\n    className,\n    labels: labelsProp,\n    fileList,\n    multiple = true,\n    disabled = false,\n    hideLabels = false,\n    maxFileSize = Infinity,\n    inputProps = {},\n    acceptedFiles = [],\n    onFilesAdded,\n    onFileRemoved,\n    ...others\n  } = useDefaultProps(\"HvFileUploader\", props);\n  const labels = useLabels(DEFAULT_LABELS, labelsProp);\n\n  return (\n    <div id={id} className={className} {...others}>\n      <HvDropZone\n        id={setId(id, \"dropzone\")}\n        labels={labels}\n        multiple={multiple}\n        disabled={disabled}\n        accept={acceptedFiles.join(\",\")}\n        maxFileSize={maxFileSize}\n        onFilesAdded={onFilesAdded}\n        inputProps={inputProps}\n        hideLabels={hideLabels}\n      />\n      <HvFileList\n        id={setId(id, \"filelist\")}\n        list={fileList}\n        onFileRemoved={onFileRemoved}\n        removeFileButtonLabel={labels?.removeFileButtonLabel}\n      />\n    </div>\n  );\n};\n"],"names":["useDefaultProps","useLabels","jsxs","jsx","HvDropZone","setId","HvFileList"],"mappings":";;;;;;;;AA8DA,MAAM,iBAAuC;AAAA,EAC3C,UAAU;AAAA,EACV,aAAa;AAAA,EACb,MAAM;AAAA,EACN,aAAa;AAAA,EACb,WAAW;AAAA,EACX,eAAe;AAAA,EACf,eAAe;AAAA,EACf,uBAAuB;AACzB;AAQa,MAAA,iBAAiB,CAAC,UAA+B;AACtD,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,IACA,WAAW;AAAA,IACX,WAAW;AAAA,IACX,aAAa;AAAA,IACb,cAAc;AAAA,IACd,aAAa,CAAC;AAAA,IACd,gBAAgB,CAAC;AAAA,IACjB;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EAAA,IACDA,gBAAgB,gBAAA,kBAAkB,KAAK;AACrC,QAAA,SAASC,UAAAA,UAAU,gBAAgB,UAAU;AAEnD,SACGC,2BAAAA,KAAA,OAAA,EAAI,IAAQ,WAAuB,GAAG,QACrC,UAAA;AAAA,IAAAC,2BAAA;AAAA,MAACC,SAAA;AAAA,MAAA;AAAA,QACC,IAAIC,MAAAA,MAAM,IAAI,UAAU;AAAA,QACxB;AAAA,QACA;AAAA,QACA;AAAA,QACA,QAAQ,cAAc,KAAK,GAAG;AAAA,QAC9B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MAAA;AAAA,IACF;AAAA,IACAF,2BAAA;AAAA,MAACG,SAAA;AAAA,MAAA;AAAA,QACC,IAAID,MAAAA,MAAM,IAAI,UAAU;AAAA,QACxB,MAAM;AAAA,QACN;AAAA,QACA,uBAAuB,QAAQ;AAAA,MAAA;AAAA,IACjC;AAAA,EACF,EAAA,CAAA;AAEJ;;"}