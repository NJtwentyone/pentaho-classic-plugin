{"version":3,"file":"TimeAgo.js","sources":["../../../src/TimeAgo/TimeAgo.tsx"],"sourcesContent":["import { useDefaultProps } from \"../hooks/useDefaultProps\";\nimport { ExtractNames } from \"../utils/classes\";\nimport { HvTypography } from \"../Typography\";\nimport {\n  fixedForwardRef,\n  PolymorphicComponentRef,\n  PolymorphicRef,\n} from \"../types/generic\";\n\nimport { staticClasses, useClasses } from \"./TimeAgo.styles\";\nimport useTimeAgo from \"./useTimeAgo\";\n\nexport { staticClasses as timeAgoClasses };\n\nexport type HvTimeAgoClasses = ExtractNames<typeof useClasses>;\n\nexport type HvTimeAgoProps<C extends React.ElementType = \"p\"> =\n  PolymorphicComponentRef<\n    C,\n    {\n      /**\n       * The timestamp to format, in seconds or milliseconds.\n       * Defaults to `emptyElement` if value is null or 0\n       */\n      timestamp?: number;\n      /**\n       * The locale to be used. Should be on of the dayjs supported locales and explicitly imported\n       * @see https://day.js.org/docs/en/i18n/i18n\n       */\n      locale?: string;\n      /**\n       * The element to render when the timestamp is null or 0\n       * Defaults to `—` (Em Dash)\n       */\n      emptyElement?: React.ReactNode;\n      /** Disables periodic date refreshes */\n      disableRefresh?: boolean;\n      /** Whether to show seconds in the rendered time */\n      showSeconds?: boolean;\n      /**\n       * Whether the component should render just the string\n       * Consider using `useTimeAgo` instead\n       */\n      justText?: boolean;\n      /** A Jss Object used to override or extend the styles applied to the component. */\n      classes?: HvTimeAgoClasses;\n    }\n  >;\n\n/**\n * The HvTimeAgo component implements the Design System relative time format guidelines.\n */\nexport const HvTimeAgo = fixedForwardRef(function HvTimeAgo<\n  C extends React.ElementType = \"p\"\n>(props: HvTimeAgoProps<C>, ref: PolymorphicRef<C>) {\n  const {\n    classes: classesProp,\n    className,\n    timestamp,\n    locale: localeProp = \"en\",\n    component: Component = HvTypography,\n    emptyElement = \"—\",\n    disableRefresh = false,\n    showSeconds = false,\n    justText = false,\n    ...others\n  } = useDefaultProps(\"HvTimeAgo\", props);\n\n  const { classes, cx } = useClasses(classesProp);\n  const locale = localeProp || \"en\";\n  const timeAgo = useTimeAgo(timestamp, {\n    locale,\n    disableRefresh,\n    showSeconds,\n  });\n\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  if (justText && timestamp) return <>{timeAgo}</>;\n\n  return (\n    <Component ref={ref} className={cx(classes.root, className)} {...others}>\n      {!timestamp ? emptyElement : timeAgo}\n    </Component>\n  );\n});\n"],"names":["HvTimeAgo"],"mappings":";;;;;;;AAoDO,MAAM,YAAY,gBAAgB,SAASA,WAEhD,OAA0B,KAAwB;AAC5C,QAAA;AAAA,IACJ,SAAS;AAAA,IACT;AAAA,IACA;AAAA,IACA,QAAQ,aAAa;AAAA,IACrB,WAAW,YAAY;AAAA,IACvB,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB,cAAc;AAAA,IACd,WAAW;AAAA,IACX,GAAG;AAAA,EAAA,IACD,gBAAgB,aAAa,KAAK;AAEtC,QAAM,EAAE,SAAS,GAAG,IAAI,WAAW,WAAW;AAC9C,QAAM,SAAS,cAAc;AACvB,QAAA,UAAU,WAAW,WAAW;AAAA,IACpC;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAGD,MAAI,YAAY;AAAW,2CAAU,UAAQ,QAAA,CAAA;AAE7C,SACG,oBAAA,WAAA,EAAU,KAAU,WAAW,GAAG,QAAQ,MAAM,SAAS,GAAI,GAAG,QAC9D,UAAC,CAAA,YAAY,eAAe,QAC/B,CAAA;AAEJ,CAAC;"}